define(["jquery","core/ajax","jqueryui"],function(a,b){return{initialise:function(){a("#local-gradebook-demo-calculate").click(function(){var c=a("#local-demo-sesskey").val(),d=a("#local-demo-courseid").val(),e=a("#local-demo-timepageload").val(),f=a("#local-demo-report").val(),g=a("#local-demo-page").val(),h=[];a.each(a(".local-demo-grades"),function(){var b={id:parseInt(a(this).attr("name")),value:parseInt(a(this).val()),type:String(a(this).attr("data-type"))};window.console.log(b),h.push(b)}),window.console.log(c+"-"+d+"-"+e+"-"+f+"-"+g+"-"+JSON.stringify(h));var i=b.call([{methodname:"local_gradebook_get_demo_calc",args:{sesskey:c,id:d,timepageload:e,report:f,page:g,grades:h}}]);i[0].done(function(b){window.console.log(b),a.each(b,function(b,c){window.console.log(c.id),a("#grade-"+c.id).val(c.value)})}).fail(function(a){window.console.log(a)})})}}});